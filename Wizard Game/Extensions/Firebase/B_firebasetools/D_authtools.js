var gdjs;(function(u){let E;(function(I){let U;(function(y){let w;(function(e){const W={google:firebase.auth.GoogleAuthProvider,facebook:firebase.auth.FacebookAuthProvider,github:firebase.auth.GithubAuthProvider,twitter:firebase.auth.TwitterAuthProvider};let x="",P=null;e.authenticated=!1,e.currentUser=null;let N;(function(n){let t;(function(c){c.changeEmail=(o,s,r,p=!0,g)=>{if(!e.currentUser)return;const A=firebase.auth.EmailAuthProvider.credential(o,s),C=p?e.currentUser.updateEmail:e.currentUser.verifyBeforeUpdateEmail;e.currentUser.reauthenticateWithCredential(A).then(()=>C(r)).then(()=>{typeof g!="undefined"&&g.setString("ok")}).catch(L=>{typeof g!="undefined"&&g.setString(L.message)})},c.changePassword=(o,s,r,p)=>{if(!e.currentUser)return;const g=firebase.auth.EmailAuthProvider.credential(o,s);e.currentUser.reauthenticateWithCredential(g).then(()=>e.currentUser.updatePassword(r)).then(()=>{typeof p!="undefined"&&p.setString("ok")}).catch(A=>{typeof p!="undefined"&&p.setString(A.message)})},c.deleteUser=(o,s,r)=>{if(!e.currentUser)return;const p=firebase.auth.EmailAuthProvider.credential(o,s);e.currentUser.reauthenticateWithCredential(p).then(()=>e.currentUser.delete()).then(()=>{typeof r!="undefined"&&r.setString("ok")}).catch(g=>{typeof r!="undefined"&&r.setString(g.message)})},c.changeEmailProvider=(o,s,r)=>{if(!e.currentUser||!P)return;const p=s?e.currentUser.updateEmail:e.currentUser.verifyBeforeUpdateEmail;e.currentUser.reauthenticateWithPopup(P).then(()=>p(o)).then(()=>{typeof r!="undefined"&&r.setString("ok")}).catch(g=>{typeof r!="undefined"&&r.setString(g.message)})},c.changePasswordProvider=(o,s)=>{e.currentUser&&P&&e.currentUser.reauthenticateWithPopup(P).then(()=>e.currentUser.updatePassword(o)).then(()=>{typeof s!="undefined"&&s.setString("ok")}).catch(r=>{typeof s!="undefined"&&s.setString(r.message)})},c.deleteUserProvider=o=>{e.currentUser&&P&&e.currentUser.reauthenticateWithPopup(P).then(()=>e.currentUser.delete()).then(()=>{typeof o!="undefined"&&o.setString("ok")}).catch(s=>{typeof o!="undefined"&&o.setString(s.message)})}})(t=n.dangerous||(n.dangerous={})),n.isEmailVerified=()=>e.currentUser?e.currentUser.emailVerified:!1,n.getEmail=()=>e.currentUser&&e.currentUser.email||"",n.getCreationTime=()=>e.currentUser&&e.currentUser.metadata.creationTime||"",n.getLastLoginTime=()=>e.currentUser&&e.currentUser.metadata.lastSignInTime||"",n.getDisplayName=()=>e.currentUser&&e.currentUser.displayName||"",n.getPhoneNumber=()=>e.currentUser&&e.currentUser.phoneNumber||"",n.getUID=()=>e.currentUser&&e.currentUser.uid||"",n.getTenantID=()=>e.currentUser&&e.currentUser.tenantId||"",n.getRefreshToken=()=>e.currentUser&&e.currentUser.refreshToken||"",n.getPhotoURL=()=>e.currentUser&&e.currentUser.photoURL||"",n.setDisplayName=m=>e.currentUser?e.currentUser.updateProfile({displayName:m}):Promise.reject("Sign in before setting displayName"),n.setPhotoURL=m=>e.currentUser?e.currentUser.updateProfile({photoURL:m}):Promise.reject("Sign in before setting photoURL"),n.sendVerificationEmail=()=>e.currentUser?e.currentUser.sendEmailVerification():""})(N=e.userManagement||(e.userManagement={})),e.token=()=>(e.currentUser&&e.currentUser.getIdToken().then(t=>x=t),x),e.isAuthenticated=()=>e.authenticated,e.isAuthentified=e.isAuthenticated,e.signInWithEmail=(t,d,f)=>firebase.auth().signInWithEmailAndPassword(t,d).then(()=>{typeof f!="undefined"&&f.setString("ok")}).catch(h=>{typeof f!="undefined"&&f.setString(h.message)}),e.createAccountWithEmail=(t,d,f)=>firebase.auth().createUserWithEmailAndPassword(t,d).then(()=>{typeof f!="undefined"&&f.setString("ok")}).catch(h=>{typeof f!="undefined"&&f.setString(h.message)}),e.anonymSignIn=t=>firebase.auth().signInAnonymously().then(()=>{typeof t!="undefined"&&t.setString("ok")}).catch(d=>{typeof t!="undefined"&&t.setString(d.message)}),e.signInWithProvider=function(t,d){P=new W[t],firebase.auth().signInWithPopup(P).then(()=>{typeof d!="undefined"&&d.setString("ok")}).catch(f=>{typeof d!="undefined"&&d.setString(f.message)})},y.onAppCreated.push(()=>{firebase.auth().onAuthStateChanged(t=>{t?(e.authenticated=!0,e.currentUser=t,t.getIdToken().then(d=>x=d)):(e.authenticated=!1,e.currentUser=null)})})})(w=y.auth||(y.auth={}))})(U=I.firebaseTools||(I.firebaseTools={}))})(E=u.evtTools||(u.evtTools={}))})(gdjs||(gdjs={}));
//# sourceMappingURL=D_authtools.js.map
